<header>
  <nav class="px-5 py-4 navbar navbar-expand-lg navbar-light bg-light container-fluid">
    <a routerLink="/" class="w-25">
      <img src="https://bizweb.dktcdn.net/100/270/285/themes/895115/assets/logo.png?1676358260059"
        alt="logo của trang web" />
    </a>
    <div class="flex-fill">
      <div class="menu">
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a style="font-weight: bold; font-size: 19px; color: black" class="nav-link" routerLink="/">Trang chủ</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" routerLink="/products">Sản phẩm</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" routerLink="#">Giới thiệu</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" routerLink="/new">Tin tức</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="d-flex align-items-center justify-content-end gap-3 w-30">
      <form class="form-inline my-2 my-lg-0 d-flex justify-content-start gap-2 align-items-center">
        <input class="form-control mr-sm-2 p-2" type="search" placeholder="Tìm kiếm sản phẩm" aria-label="Search"
          ng-model="searchText" />
        <button class="btn btn-outline-success fs-6 my-sm-0" type="submit">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </form>

      <ng-container *ngIf="user">
      <a  routerLink="/favorite">
        <i style="color: #e5d300;font-size: 20px;" title="Sản phẩm yêu thích" class="fa fa-heart" aria-hidden="true"></i>
      </a></ng-container>


      <div class="p-1 dropdown">
        <a routerLink="/cart" id="dropdownMenuButton" data-mdb-toggle="dropdown" aria-expanded="false"><i
            class="fa fa-shopping-cart fs-5" style="color: #e5d300"></i></a>
        <ul class="dropdown-menu drop-cart" aria-labelledby="dropdownMenuButton">
          <h3 class="dropdown-header">Cart</h3>
          <div class="cart-body">
            <li>
              <a class="dropdown-item" routerLink="#"><app-product-in-cart></app-product-in-cart></a>
            </li>
            <li>
              <a class="dropdown-item" routerLink="#"><app-product-in-cart></app-product-in-cart></a>
            </li>
            <li>
              <a class="dropdown-item" routerLink="#"><app-product-in-cart></app-product-in-cart></a>
            </li>

          </div>
          <li>
            <hr class="dropdown-divider" />
          </li>
          <div class="cart-footer">
            <p>Total:</p>
            <p>6000 vnd</p>
          </div>
        </ul>
      </div>
      <div class="p-1 dropdown" *ngIf="getUserInfo()===null">
        <a routerLink="/signup" id="dropdownUserButton" data-mdb-toggle="dropdown" aria-expanded="false">
          <i class="fa-solid fa-user fs-5" style="color: #e5d300"></i>
        </a>
        <ul class="dropdown-menu drop-user p-2" aria-labelledby="dropdownUserButton">
          <div class="d-flex flex-column align-items-center">
            <p (click)="openDialog('signin')" class="open-modal">Sign in</p>
            <p (click)="openDialog('signup') " class="open-modal">Sign up</p>
          </div>
        </ul>
      </div>
      <div class="p-1 dropdown w-10" *ngIf="getUserInfo()!==null">
        <a routerLink="/profile" id="dropdownUserButton" data-mdb-toggle="dropdown" aria-expanded="false">
          <img src={{getUserInfo().defaultAvatar}} alt="avatar" class="w-75">
        </a>
        <ul class="dropdown-menu drop-user p-2" aria-labelledby="dropdownUserButton">
          <div class="d-flex flex-column align-items-center">
            <button class="btn-logout" (click)="handleLogout()">Log out</button>
          </div>
        </ul>
      </div>
    </div>
  </nav>
</header>